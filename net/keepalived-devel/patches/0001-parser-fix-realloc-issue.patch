From 967d878d9478e9a07d55c9b72b490aecd176ff8e Mon Sep 17 00:00:00 2001
From: Alexandre Cassen <acassen@gmail.com>
Date: Tue, 4 Feb 2014 09:19:15 +0100
Subject: [PATCH] parser: fix realloc issue

Fix reallocation issue introduced in last merge
---
 lib/parser.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/parser.c b/lib/parser.c
index c64d149..99511db 100644
--- a/lib/parser.c
+++ b/lib/parser.c
@@ -385,7 +385,7 @@ set_value(vector_t *strvec)
 			if (!alloc)
 				alloc = (char *) MALLOC(len + 1);
 			else {
-				alloc = (char *) REALLOC(alloc, (len + 1));
+				alloc = (char *) REALLOC(alloc, 2 * (len + 1));
 				tmp = vector_slot(strvec, i-1);
 				if (*str != '"' && *tmp != '"')
 					strncat(alloc, " ", 1);
-- 
1.8.3.2

